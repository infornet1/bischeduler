<!DOCTYPE html>
<html lang="es" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#003366">
    <title>Portal de Padres - BiScheduler</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="/bischeduler/static/css/styles.css">
    <link rel="stylesheet" href="/bischeduler/static/css/dark-mode.css">

    <style>
        /* User Bar Styles */
        .user-bar {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--card-bg, rgba(255, 255, 255, 0.95));
            border-radius: 25px;
            padding: 8px 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 1000;
        }

        .user-info {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }

        .user-info .user-name {
            color: var(--text-primary, #212529);
            font-weight: 500;
            font-size: 0.9rem;
        }

        .user-info .user-role {
            color: var(--text-secondary, #6c757d);
            font-size: 0.75rem;
        }

        .user-actions {
            display: flex;
            align-items: center;
        }

        .user-dropdown-toggle {
            background: transparent !important;
            border: none !important;
            box-shadow: none !important;
            padding: 0 !important;
            color: var(--text-primary) !important;
            display: flex;
            align-items: center;
            gap: 5px;
            font-weight: 500;
            cursor: pointer;
        }

        .user-dropdown-toggle:hover,
        .user-dropdown-toggle:focus,
        .user-dropdown-toggle:active {
            background: transparent !important;
            border: none !important;
            box-shadow: none !important;
            color: var(--text-primary) !important;
        }

        .user-dropdown-toggle .fas {
            font-size: 0.8rem;
            transition: transform 0.3s ease;
        }

        .user-dropdown-toggle[aria-expanded="true"] .fa-chevron-down {
            transform: rotate(180deg);
        }

        .parent-container {
            min-height: 100vh;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            padding: var(--spacing-lg);
        }

        .management-card {
            background: var(--card-bg, rgba(255, 255, 255, 0.95));
            border-radius: var(--border-radius);
            padding: var(--spacing-xl);
            margin-bottom: var(--spacing-lg);
            box-shadow: var(--box-shadow-lg);
            backdrop-filter: blur(10px);
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }

        .header-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-xl);
            flex-wrap: wrap;
            gap: var(--spacing-md);
        }

        .children-selector {
            background: var(--bg-secondary, #f8f9fa);
            border-radius: var(--border-radius);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .child-card {
            background: var(--card-bg, white);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
            border-left: 4px solid #ff9a9e;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .child-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--box-shadow-md);
        }

        .child-card.active {
            border-left-color: #003366;
            background: #e3f2fd;
        }

        .child-info h5 {
            margin: 0 0 5px 0;
            color: var(--text-primary);
            font-weight: 600;
        }

        .child-details {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .child-status {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .status-active { background: #d4edda; color: #155724; }
        .status-exam { background: #fff3cd; color: #856404; }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .info-card {
            background: var(--bg-secondary, #f8f9fa);
            border-radius: var(--border-radius);
            padding: var(--spacing-lg);
            border-left: 4px solid #ff9a9e;
        }

        .info-card-header {
            display: flex;
            align-items: center;
            margin-bottom: var(--spacing-md);
        }

        .info-icon {
            font-size: 1.5rem;
            margin-right: var(--spacing-sm);
            color: #ff9a9e;
        }

        .info-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .schedule-grid {
            display: grid;
            grid-template-columns: 80px repeat(5, 1fr);
            gap: 2px;
            margin-top: var(--spacing-md);
            background: var(--border-color, #dee2e6);
            border-radius: var(--border-radius);
            overflow: hidden;
        }

        .schedule-header {
            background: var(--primary-color, #003366);
            color: white;
            padding: var(--spacing-sm);
            text-align: center;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .schedule-time {
            background: var(--bg-secondary, #f8f9fa);
            padding: var(--spacing-sm);
            text-align: center;
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .schedule-cell {
            background: white;
            padding: var(--spacing-sm);
            min-height: 60px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            font-size: 0.8rem;
        }

        .schedule-cell.has-class {
            background: #e3f2fd;
            border-left: 3px solid #2196f3;
        }

        .schedule-subject {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 2px;
        }

        .schedule-teacher {
            color: var(--text-secondary);
            font-size: 0.75rem;
        }

        .action-buttons {
            display: flex;
            gap: var(--spacing-md);
            margin-top: var(--spacing-lg);
            flex-wrap: wrap;
        }

        .btn-portal {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 600;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: var(--transition);
            box-shadow: 0 4px 15px rgba(255, 154, 158, 0.3);
        }

        .btn-portal:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 154, 158, 0.4);
            color: white;
            text-decoration: none;
        }

        .notification-item {
            display: flex;
            align-items: center;
            padding: var(--spacing-sm);
            border-bottom: 1px solid var(--border-color);
        }

        .notification-item:last-child {
            border-bottom: none;
        }

        .notification-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: var(--spacing-sm);
            font-size: 1.2rem;
        }

        .notification-exam { background: #fff3cd; color: #856404; }
        .notification-schedule { background: #d4edda; color: #155724; }
        .notification-grade { background: #cce7ff; color: #004085; }

        .notification-content {
            flex: 1;
        }

        .notification-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 2px;
        }

        .notification-time {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* Schedule Summary Styles */
        .schedule-summary {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-md);
        }

        .schedule-preview {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-md);
        }

        .current-class {
            background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            border-left: 4px solid #2196f3;
        }

        .current-class-time {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85rem;
            color: #1976d2;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .current-class-info .subject-name {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .current-class-info .class-details {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .schedule-stats {
            display: flex;
            gap: var(--spacing-lg);
        }

        .schedule-stats .stat-item {
            text-align: center;
            flex: 1;
        }

        .schedule-stats .stat-number {
            display: block;
            font-size: 1.5rem;
            font-weight: 700;
            color: #ff9a9e;
            margin-bottom: 2px;
        }

        .schedule-stats .stat-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .btn-view-schedule {
            background: linear-gradient(135deg, #2196f3 0%, #21cbf3 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
            width: 100%;
        }

        .btn-view-schedule:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(33, 150, 243, 0.4);
        }

        /* Custom Modal Styles - Complete control */
        .custom-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1050;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .custom-modal-backdrop {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
        }
        .custom-modal-dialog {
            position: relative;
            width: 95%;
            max-width: 1400px;
            height: 90vh;
            max-height: 90vh;
            margin: auto;
            z-index: 1051;
        }
        .custom-modal-content {
            width: 100%;
            height: 100%;
            background: var(--card-bg, white);
            border-radius: var(--border-radius);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        .custom-modal .modal-header {
            flex-shrink: 0;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-color);
        }
        .custom-modal-body {
            flex: 1;
            padding: 1rem;
            overflow-x: auto;
            overflow-y: auto;
            min-height: 0;
        }
        .custom-modal .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }


        .schedule-modal-grid {
            display: grid;
            grid-template-columns: 140px repeat(5, 1fr);
            gap: 3px;
            background: var(--border-color, #dee2e6);
            border-radius: var(--border-radius);
            overflow: hidden;
            width: 100%;
            min-width: 1200px;
        }

        .schedule-modal-header {
            background: var(--primary-color, #003366);
            color: white;
            padding: 1.2rem;
            text-align: center;
            font-weight: 600;
            font-size: 1.1rem;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .schedule-modal-time {
            background: var(--bg-secondary, #f8f9fa);
            padding: 1.5rem;
            text-align: center;
            font-weight: 600;
            color: var(--text-primary);
            display: flex;
            flex-direction: column;
            justify-content: center;
            min-height: 140px;
        }

        .schedule-modal-time strong {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }

        .schedule-modal-time small {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .schedule-modal-cell {
            background: white;
            padding: 1.5rem;
            min-height: 140px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
        }

        .schedule-modal-cell.has-class {
            background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
            border-left: 4px solid #2196f3;
        }

        .schedule-modal-subject {
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 8px;
            font-size: 1.1rem;
            line-height: 1.2;
        }

        .schedule-modal-teacher {
            color: var(--text-secondary);
            font-size: 1rem;
            margin-bottom: 6px;
            font-weight: 500;
        }

        .schedule-modal-classroom {
            color: #666;
            font-size: 0.9rem;
            font-style: italic;
            font-weight: 400;
        }

        /* Dark Mode Overrides */
        [data-theme="dark"] .parent-container {
            background: linear-gradient(135deg, #2d1b2e 0%, #3e2a3e 100%);
        }

        [data-theme="dark"] .management-card {
            background: var(--card-bg, rgba(30, 30, 30, 0.95)) !important;
            color: var(--text-primary, #ffffff) !important;
        }

        [data-theme="dark"] .children-selector {
            background: var(--bg-secondary, rgba(40, 40, 40, 0.8)) !important;
        }

        [data-theme="dark"] .child-card {
            background: var(--card-bg, rgba(50, 50, 50, 0.9)) !important;
            color: var(--text-primary, #ffffff) !important;
        }

        [data-theme="dark"] .child-card.active {
            background: rgba(33, 150, 243, 0.2) !important;
            border-left-color: #2196f3;
        }

        [data-theme="dark"] .child-info h5 {
            color: var(--text-primary, #ffffff) !important;
        }

        [data-theme="dark"] .child-details {
            color: var(--text-secondary, #b0b0b0) !important;
        }

        [data-theme="dark"] .info-card {
            background: var(--bg-secondary, rgba(40, 40, 40, 0.8)) !important;
            border-left-color: #ff9a9e;
        }

        [data-theme="dark"] .info-title {
            color: var(--text-primary, #ffffff) !important;
        }

        [data-theme="dark"] .schedule-grid {
            background: var(--border-color, #555) !important;
        }

        [data-theme="dark"] .schedule-time {
            background: var(--bg-secondary, rgba(40, 40, 40, 0.9)) !important;
            color: var(--text-primary, #ffffff) !important;
        }

        [data-theme="dark"] .schedule-cell {
            background: var(--card-bg, rgba(50, 50, 50, 0.9)) !important;
            color: var(--text-primary, #ffffff) !important;
        }

        [data-theme="dark"] .schedule-cell.has-class {
            background: rgba(33, 150, 243, 0.15) !important;
            border-left-color: #2196f3;
        }

        [data-theme="dark"] .schedule-subject {
            color: var(--text-primary, #ffffff) !important;
        }

        [data-theme="dark"] .schedule-teacher {
            color: var(--text-secondary, #b0b0b0) !important;
        }

        [data-theme="dark"] .notification-item {
            border-bottom-color: var(--border-color, #555) !important;
        }

        [data-theme="dark"] .notification-title {
            color: var(--text-primary, #ffffff) !important;
        }

        [data-theme="dark"] .notification-time {
            color: var(--text-secondary, #b0b0b0) !important;
        }

        [data-theme="dark"] .btn-portal {
            background: linear-gradient(135deg, #8e24aa 0%, #ad42c4 100%) !important;
            color: white !important;
            box-shadow: 0 4px 15px rgba(142, 36, 170, 0.3) !important;
        }

        [data-theme="dark"] .btn-portal:hover {
            background: linear-gradient(135deg, #9c27b0 0%, #ba68c8 100%) !important;
            box-shadow: 0 6px 20px rgba(142, 36, 170, 0.4) !important;
            color: white !important;
        }

        /* Dark mode dropdown menu styles */
        [data-theme="dark"] .dropdown-menu {
            background: var(--card-bg, rgba(30, 30, 30, 0.98)) !important;
            border: 1px solid var(--border-color, rgba(255, 255, 255, 0.1)) !important;
        }

        [data-theme="dark"] .dropdown-item {
            color: var(--text-primary, #ffffff) !important;
        }

        [data-theme="dark"] .dropdown-item:hover,
        [data-theme="dark"] .dropdown-item:focus {
            background: var(--hover-bg, rgba(255, 255, 255, 0.1)) !important;
            color: var(--text-primary, #ffffff) !important;
        }

        [data-theme="dark"] .dropdown-divider {
            border-color: var(--border-color, rgba(255, 255, 255, 0.1)) !important;
        }

        /* Dark mode schedule summary styles */
        [data-theme="dark"] .current-class {
            background: linear-gradient(135deg, rgba(33, 150, 243, 0.2) 0%, rgba(156, 39, 176, 0.2) 100%) !important;
            border-left-color: #2196f3;
        }

        [data-theme="dark"] .current-class-time {
            color: #64b5f6 !important;
        }

        [data-theme="dark"] .current-class-info .subject-name {
            color: var(--text-primary, #ffffff) !important;
        }

        [data-theme="dark"] .current-class-info .class-details {
            color: var(--text-secondary, #b0b0b0) !important;
        }

        [data-theme="dark"] .schedule-stats .stat-number {
            color: #f48fb1 !important;
        }

        [data-theme="dark"] .schedule-stats .stat-label {
            color: var(--text-secondary, #b0b0b0) !important;
        }

        [data-theme="dark"] .btn-view-schedule {
            background: linear-gradient(135deg, #1976d2 0%, #1565c0 100%) !important;
        }

        [data-theme="dark"] .btn-view-schedule:hover {
            background: linear-gradient(135deg, #2196f3 0%, #1976d2 100%) !important;
        }

        /* Dark mode schedule modal styles */
        [data-theme="dark"] .schedule-modal-grid {
            background: var(--border-color, #555) !important;
        }

        [data-theme="dark"] .schedule-modal-time {
            background: var(--bg-secondary, rgba(40, 40, 40, 0.9)) !important;
            color: var(--text-primary, #ffffff) !important;
        }

        [data-theme="dark"] .schedule-modal-cell {
            background: var(--card-bg, rgba(50, 50, 50, 0.9)) !important;
            color: var(--text-primary, #ffffff) !important;
        }

        [data-theme="dark"] .schedule-modal-cell.has-class {
            background: linear-gradient(135deg, rgba(33, 150, 243, 0.15) 0%, rgba(156, 39, 176, 0.15) 100%) !important;
            border-left-color: #2196f3;
        }

        [data-theme="dark"] .schedule-modal-subject {
            color: var(--text-primary, #ffffff) !important;
        }

        [data-theme="dark"] .schedule-modal-teacher {
            color: var(--text-secondary, #b0b0b0) !important;
        }

        [data-theme="dark"] .schedule-modal-classroom {
            color: #999 !important;
        }

        @media (max-width: 768px) {
            .schedule-grid {
                grid-template-columns: 60px repeat(5, 1fr);
                font-size: 0.7rem;
            }

            .info-grid {
                grid-template-columns: 1fr;
            }

            .action-buttons {
                justify-content: center;
            }

            /* Mobile modal adjustments */
            #scheduleModal .modal-dialog {
                max-width: 98% !important;
                width: auto !important;
                margin: 0.5rem !important;
                height: 95vh !important;
                max-height: 95vh !important;
            }

            #scheduleModal .modal-content {
                height: 100% !important;
                min-height: 95vh !important;
                max-height: 95vh !important;
            }

            #scheduleModal .modal-body {
                flex: 1 !important;
                max-height: none !important;
            }

            .schedule-modal-grid {
                grid-template-columns: 100px repeat(5, 1fr);
                min-width: 900px;
                font-size: 0.9rem;
                gap: 2px;
            }

            .schedule-modal-header {
                padding: 0.8rem;
                font-size: 1rem;
                min-height: 50px;
            }

            .schedule-modal-time {
                padding: 0.8rem;
                min-height: 80px;
            }

            .schedule-modal-time strong {
                font-size: 1rem;
            }

            .schedule-modal-time small {
                font-size: 0.8rem;
            }

            .schedule-modal-cell {
                padding: 1rem;
                min-height: 100px;
            }

            .schedule-modal-subject {
                font-size: 1rem;
                margin-bottom: 6px;
            }

            .schedule-modal-teacher {
                font-size: 0.9rem;
                margin-bottom: 4px;
            }

            .schedule-modal-classroom {
                font-size: 0.8rem;
            }
        }

        /* Comprehensive dark mode text fixes */
        [data-theme="dark"] h1,
        [data-theme="dark"] h2,
        [data-theme="dark"] h3,
        [data-theme="dark"] h4,
        [data-theme="dark"] h5,
        [data-theme="dark"] h6 {
            color: var(--text-primary, #ffffff) !important;
        }

        [data-theme="dark"] p,
        [data-theme="dark"] span,
        [data-theme="dark"] div,
        [data-theme="dark"] label,
        [data-theme="dark"] .navbar-brand,
        [data-theme="dark"] .nav-link,
        [data-theme="dark"] .breadcrumb-item,
        [data-theme="dark"] .alert,
        [data-theme="dark"] .btn,
        [data-theme="dark"] .dropdown-item,
        [data-theme="dark"] .card-title,
        [data-theme="dark"] .card-text,
        [data-theme="dark"] .form-label,
        [data-theme="dark"] .form-control,
        [data-theme="dark"] .table,
        [data-theme="dark"] .table td,
        [data-theme="dark"] .table th,
        [data-theme="dark"] .user-name,
        [data-theme="dark"] .user-role,
        [data-theme="dark"] .student-card-name,
        [data-theme="dark"] .student-card-grade {
            color: var(--text-primary, #ffffff) !important;
        }

        [data-theme="dark"] .text-primary {
            color: var(--text-primary, #ffffff) !important;
        }

        [data-theme="dark"] .text-secondary {
            color: var(--text-secondary, #b0b0b0) !important;
        }

        [data-theme="dark"] .text-muted {
            color: var(--text-secondary, #b0b0b0) !important;
        }
    </style>
</head>
<body>
    <!-- User Bar -->
    <div class="user-bar">
        <div class="user-info">
            <span class="user-name">Portal de Padres</span>
            <span class="user-role">Familia González</span>
        </div>
        <div class="user-actions">
            <div class="dropdown">
                <button class="user-dropdown-toggle" type="button" data-toggle="dropdown">
                    <i class="fas fa-user-circle"></i>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="dropdown-menu dropdown-menu-right">
                    <button class="dropdown-item" id="darkModeToggle">
                        <i class="fas fa-moon" id="darkModeIcon"></i>
                        <span id="darkModeText">Modo Oscuro</span>
                    </button>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="/bischeduler/dashboard">
                        <i class="fas fa-home"></i> Panel Principal
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="parent-container">
        <div class="management-card">
            <div class="header-section">
                <div>
                    <h1><i class="fas fa-users"></i> Portal de Padres</h1>
                    <p class="text-muted">Información académica de sus hijos</p>
                </div>
                <a href="/bischeduler/dashboard" class="btn btn-outline-primary">
                    <i class="fas fa-arrow-left"></i> Volver
                </a>
            </div>

            <!-- Children Selector -->
            <div class="children-selector">
                <h4><i class="fas fa-child"></i> Seleccionar Hijo/a</h4>
                <div id="childrenList">
                    <div class="child-card active" onclick="selectChild('maria')">
                        <div class="child-info">
                            <h5>María González Rodríguez</h5>
                            <div class="child-details">3er año A • Cédula Escolar: E-12345678</div>
                        </div>
                        <span class="child-status status-active">Activa</span>
                    </div>
                    <div class="child-card" onclick="selectChild('carlos')">
                        <div class="child-info">
                            <h5>Carlos González Rodríguez</h5>
                            <div class="child-details">1er año B • Cédula Escolar: E-12345679</div>
                        </div>
                        <span class="child-status status-exam">Período de Exámenes</span>
                    </div>
                </div>
            </div>

            <!-- Student Information Grid -->
            <div class="info-grid">
                <!-- Current Schedule -->
                <div class="info-card">
                    <div class="info-card-header">
                        <i class="fas fa-calendar-alt info-icon"></i>
                        <span class="info-title">Horario Actual</span>
                    </div>
                    <div id="currentSchedule">
                        <div class="schedule-summary">
                            <div class="schedule-preview">
                                <div class="current-class">
                                    <div class="current-class-time">
                                        <i class="fas fa-clock"></i>
                                        Próxima Clase
                                    </div>
                                    <div class="current-class-info">
                                        <div class="subject-name">MATEMÁTICAS</div>
                                        <div class="class-details">Mañana 07:00 - Prof. García - Aula 3</div>
                                    </div>
                                </div>
                                <div class="schedule-stats">
                                    <div class="stat-item">
                                        <span class="stat-number">25</span>
                                        <span class="stat-label">Clases/Semana</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-number">7</span>
                                        <span class="stat-label">Materias</span>
                                    </div>
                                </div>
                            </div>
                            <button class="btn-view-schedule" onclick="openScheduleModal()">
                                <i class="fas fa-calendar-week"></i>
                                Ver Horario Completo
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Upcoming Exams -->
                <div class="info-card">
                    <div class="info-card-header">
                        <i class="fas fa-clipboard-check info-icon"></i>
                        <span class="info-title">Próximos Exámenes</span>
                    </div>
                    <div id="upcomingExams">
                        <div class="notification-item">
                            <div class="notification-icon notification-exam">
                                <i class="fas fa-calculator"></i>
                            </div>
                            <div class="notification-content">
                                <div class="notification-title">Examen de Matemáticas</div>
                                <div class="notification-time">Viernes 29 Sept - 08:00 AM</div>
                            </div>
                        </div>
                        <div class="notification-item">
                            <div class="notification-icon notification-exam">
                                <i class="fas fa-book-open"></i>
                            </div>
                            <div class="notification-content">
                                <div class="notification-title">Examen de Castellano</div>
                                <div class="notification-time">Lunes 2 Oct - 07:00 AM</div>
                            </div>
                        </div>
                        <div class="notification-item">
                            <div class="notification-icon notification-exam">
                                <i class="fas fa-flask"></i>
                            </div>
                            <div class="notification-content">
                                <div class="notification-title">Examen de Ciencias</div>
                                <div class="notification-time">Miércoles 4 Oct - 07:40 AM</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Notifications -->
                <div class="info-card">
                    <div class="info-card-header">
                        <i class="fas fa-bell info-icon"></i>
                        <span class="info-title">Notificaciones Recientes</span>
                    </div>
                    <div id="recentNotifications">
                        <div class="notification-item">
                            <div class="notification-icon notification-grade">
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="notification-content">
                                <div class="notification-title">Calificación Publicada</div>
                                <div class="notification-time">Matemáticas - 18.5/20 - Hace 2 horas</div>
                            </div>
                        </div>
                        <div class="notification-item">
                            <div class="notification-icon notification-schedule">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="notification-content">
                                <div class="notification-title">Cambio de Horario</div>
                                <div class="notification-time">Educación Física - Nueva hora - Ayer</div>
                            </div>
                        </div>
                        <div class="notification-item">
                            <div class="notification-icon notification-exam">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <div class="notification-content">
                                <div class="notification-title">Recordatorio de Examen</div>
                                <div class="notification-time">Matemáticas - Viernes - Hace 6 horas</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Academic Summary -->
                <div class="info-card">
                    <div class="info-card-header">
                        <i class="fas fa-chart-line info-icon"></i>
                        <span class="info-title">Resumen Académico</span>
                    </div>
                    <div id="academicSummary">
                        <div style="margin-bottom: 15px;">
                            <strong>Promedio General:</strong> <span style="color: #28a745; font-weight: 600;">17.8/20</span>
                        </div>
                        <div style="margin-bottom: 10px;">
                            <strong>Asistencia:</strong> <span style="color: #17a2b8;">96%</span>
                        </div>
                        <div style="margin-bottom: 10px;">
                            <strong>Materia Destacada:</strong> <span style="color: #007bff;">Matemáticas (19.2)</span>
                        </div>
                        <div style="margin-bottom: 10px;">
                            <strong>Exámenes Pendientes:</strong> <span style="color: #ffc107;">3</span>
                        </div>
                        <div>
                            <strong>Período Académico:</strong> <span>2024-2025 - Lapso II</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <a href="#" class="btn-portal" onclick="contactTeacher()">
                    <i class="fas fa-comment"></i>
                    Contactar Profesores
                </a>
                <a href="#" class="btn-portal" onclick="viewGrades()">
                    <i class="fas fa-chart-bar"></i>
                    Ver Calificaciones
                </a>
                <a href="#" class="btn-portal" onclick="scheduleAppointment()">
                    <i class="fas fa-calendar-plus"></i>
                    Agendar Cita
                </a>
                <a href="#" class="btn-portal" onclick="downloadReport()">
                    <i class="fas fa-download"></i>
                    Descargar Reporte
                </a>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Dark mode initialization
        function initTheme() {
            const savedTheme = localStorage.getItem('bischeduler-theme');
            const theme = savedTheme || 'light';
            document.documentElement.setAttribute('data-theme', theme);

            const icon = document.getElementById('darkModeIcon');
            const text = document.getElementById('darkModeText');
            if (theme === 'dark') {
                icon.className = 'fas fa-sun';
                text.textContent = 'Modo Claro';
            }
        }

        document.getElementById('darkModeToggle').addEventListener('click', () => {
            const currentTheme = document.documentElement.getAttribute('data-theme') || 'light';
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('bischeduler-theme', newTheme);

            const icon = document.getElementById('darkModeIcon');
            const text = document.getElementById('darkModeText');
            if (newTheme === 'dark') {
                icon.className = 'fas fa-sun';
                text.textContent = 'Modo Claro';
            } else {
                icon.className = 'fas fa-moon';
                text.textContent = 'Modo Oscuro';
            }
        });

        // Child selection functionality
        function selectChild(childId) {
            // Remove active class from all cards
            document.querySelectorAll('.child-card').forEach(card => {
                card.classList.remove('active');
            });

            // Add active class to selected card
            event.currentTarget.classList.add('active');

            // Load child-specific data
            loadChildData(childId);
        }

        function loadChildData(childId) {
            // TODO: Load actual data from API
            console.log('Loading data for child:', childId);

            if (childId === 'carlos') {
                // Update for Carlos (1er año B)
                updateScheduleDisplay('carlos');
                updateExamsDisplay('carlos');
                updateNotificationsDisplay('carlos');
                updateAcademicSummary('carlos');
            } else {
                // Default to María (3er año A)
                updateScheduleDisplay('maria');
                updateExamsDisplay('maria');
                updateNotificationsDisplay('maria');
                updateAcademicSummary('maria');
            }
        }

        function updateScheduleDisplay(childId) {
            // For demo purposes, keep the same schedule
            // In real implementation, this would load different schedules
        }

        function updateExamsDisplay(childId) {
            // Update exam information based on selected child
            // This would connect to the exam scheduling system
        }

        function updateNotificationsDisplay(childId) {
            // Update notifications specific to the selected child
        }

        function updateAcademicSummary(childId) {
            // Update academic summary for the selected child
        }

        // Action button functions
        function contactTeacher() {
            alert('Funcionalidad de contacto con profesores - Próximamente disponible');
        }

        function viewGrades() {
            alert('Sistema de calificaciones detalladas - Próximamente disponible');
        }

        function scheduleAppointment() {
            alert('Sistema de citas con profesores - Próximamente disponible');
        }

        function downloadReport() {
            alert('Descarga de reportes académicos - Próximamente disponible');
        }

        // Custom modal functions
        function openScheduleModal() {
            console.log('Opening custom schedule modal...');
            const modal = document.getElementById('scheduleModal');
            modal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function closeScheduleModal() {
            console.log('Closing custom schedule modal...');
            const modal = document.getElementById('scheduleModal');
            modal.style.display = 'none';
            document.body.style.overflow = '';
        }

        // Initialize on page load
        initTheme();
        loadChildData('maria'); // Load default child data
    </script>

    <!-- Custom Schedule Modal -->
    <div id="scheduleModal" class="custom-modal" style="display: none;">
        <div class="custom-modal-backdrop" onclick="closeScheduleModal()"></div>
        <div class="custom-modal-dialog">
            <div class="custom-modal-content">
                <div class="modal-header" style="background: var(--primary-color, #003366); color: white;">
                    <h5 class="modal-title" id="scheduleModalLabel">
                        <i class="fas fa-calendar-week"></i> Horario Semanal - María González Rodríguez
                    </h5>
                    <button type="button" class="close-btn" aria-label="Close" onclick="closeScheduleModal()">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="custom-modal-body">
                    <div class="schedule-modal-grid">
                        <!-- Headers -->
                        <div class="schedule-modal-header">Hora</div>
                        <div class="schedule-modal-header">Lunes</div>
                        <div class="schedule-modal-header">Martes</div>
                        <div class="schedule-modal-header">Miércoles</div>
                        <div class="schedule-modal-header">Jueves</div>
                        <div class="schedule-modal-header">Viernes</div>

                        <!-- Period 1: 07:00-07:40 -->
                        <div class="schedule-modal-time">
                            <strong>P1</strong>
                            <small>07:00<br>07:40</small>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">MATEMÁTICAS</div>
                            <div class="schedule-modal-teacher">Prof. García</div>
                            <div class="schedule-modal-classroom">Aula 3</div>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">CASTELLANO</div>
                            <div class="schedule-modal-teacher">Prof. Morales</div>
                            <div class="schedule-modal-classroom">Aula 1</div>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">INGLÉS</div>
                            <div class="schedule-modal-teacher">Prof. Smith</div>
                            <div class="schedule-modal-classroom">Aula 7</div>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">CIENCIAS</div>
                            <div class="schedule-modal-teacher">Prof. López</div>
                            <div class="schedule-modal-classroom">Lab Ciencias</div>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">HISTORIA</div>
                            <div class="schedule-modal-teacher">Prof. Pérez</div>
                            <div class="schedule-modal-classroom">Aula 2</div>
                        </div>

                        <!-- Period 2: 07:40-08:20 -->
                        <div class="schedule-modal-time">
                            <strong>P2</strong>
                            <small>07:40<br>08:20</small>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">CIENCIAS</div>
                            <div class="schedule-modal-teacher">Prof. López</div>
                            <div class="schedule-modal-classroom">Lab Ciencias</div>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">MATEMÁTICAS</div>
                            <div class="schedule-modal-teacher">Prof. García</div>
                            <div class="schedule-modal-classroom">Aula 3</div>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">EDUCACIÓN FÍSICA</div>
                            <div class="schedule-modal-teacher">Prof. Vargas</div>
                            <div class="schedule-modal-classroom">Cancha</div>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">CASTELLANO</div>
                            <div class="schedule-modal-teacher">Prof. Morales</div>
                            <div class="schedule-modal-classroom">Aula 1</div>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">ARTE</div>
                            <div class="schedule-modal-teacher">Prof. Díaz</div>
                            <div class="schedule-modal-classroom">Taller Arte</div>
                        </div>

                        <!-- Period 3: 08:20-09:00 -->
                        <div class="schedule-modal-time">
                            <strong>P3</strong>
                            <small>08:20<br>09:00</small>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">HISTORIA</div>
                            <div class="schedule-modal-teacher">Prof. Pérez</div>
                            <div class="schedule-modal-classroom">Aula 2</div>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">INGLÉS</div>
                            <div class="schedule-modal-teacher">Prof. Smith</div>
                            <div class="schedule-modal-classroom">Aula 7</div>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">MATEMÁTICAS</div>
                            <div class="schedule-modal-teacher">Prof. García</div>
                            <div class="schedule-modal-classroom">Aula 3</div>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">MÚSICA</div>
                            <div class="schedule-modal-teacher">Prof. Ramos</div>
                            <div class="schedule-modal-classroom">Aula Música</div>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">CIENCIAS</div>
                            <div class="schedule-modal-teacher">Prof. López</div>
                            <div class="schedule-modal-classroom">Lab Ciencias</div>
                        </div>

                        <!-- Recreo: 09:00-09:20 -->
                        <div class="schedule-modal-time" style="background: #fff3cd; color: #856404;">
                            <strong>RECREO</strong>
                            <small>09:00<br>09:20</small>
                        </div>
                        <div class="schedule-modal-cell" style="background: #fff3cd; text-align: center; font-weight: 600; color: #856404;">
                            Recreo
                        </div>
                        <div class="schedule-modal-cell" style="background: #fff3cd; text-align: center; font-weight: 600; color: #856404;">
                            Recreo
                        </div>
                        <div class="schedule-modal-cell" style="background: #fff3cd; text-align: center; font-weight: 600; color: #856404;">
                            Recreo
                        </div>
                        <div class="schedule-modal-cell" style="background: #fff3cd; text-align: center; font-weight: 600; color: #856404;">
                            Recreo
                        </div>
                        <div class="schedule-modal-cell" style="background: #fff3cd; text-align: center; font-weight: 600; color: #856404;">
                            Recreo
                        </div>

                        <!-- Period 4: 09:20-10:00 -->
                        <div class="schedule-modal-time">
                            <strong>P4</strong>
                            <small>09:20<br>10:00</small>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">EDUCACIÓN FÍSICA</div>
                            <div class="schedule-modal-teacher">Prof. Vargas</div>
                            <div class="schedule-modal-classroom">Cancha</div>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">CIENCIAS</div>
                            <div class="schedule-modal-teacher">Prof. López</div>
                            <div class="schedule-modal-classroom">Lab Ciencias</div>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">HISTORIA</div>
                            <div class="schedule-modal-teacher">Prof. Pérez</div>
                            <div class="schedule-modal-classroom">Aula 2</div>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">CASTELLANO</div>
                            <div class="schedule-modal-teacher">Prof. Morales</div>
                            <div class="schedule-modal-classroom">Aula 1</div>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">INGLÉS</div>
                            <div class="schedule-modal-teacher">Prof. Smith</div>
                            <div class="schedule-modal-classroom">Aula 7</div>
                        </div>

                        <!-- Period 5: 10:00-10:40 -->
                        <div class="schedule-modal-time">
                            <strong>P5</strong>
                            <small>10:00<br>10:40</small>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">ARTE</div>
                            <div class="schedule-modal-teacher">Prof. Díaz</div>
                            <div class="schedule-modal-classroom">Taller Arte</div>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">HISTORIA</div>
                            <div class="schedule-modal-teacher">Prof. Pérez</div>
                            <div class="schedule-modal-classroom">Aula 2</div>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">CASTELLANO</div>
                            <div class="schedule-modal-teacher">Prof. Morales</div>
                            <div class="schedule-modal-classroom">Aula 1</div>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">ARTE</div>
                            <div class="schedule-modal-teacher">Prof. Díaz</div>
                            <div class="schedule-modal-classroom">Taller Arte</div>
                        </div>
                        <div class="schedule-modal-cell has-class">
                            <div class="schedule-modal-subject">MATEMÁTICAS</div>
                            <div class="schedule-modal-teacher">Prof. García</div>
                            <div class="schedule-modal-classroom">Aula 3</div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="closeScheduleModal()">Cerrar</button>
                    <button type="button" class="btn btn-primary" onclick="printSchedule()">
                        <i class="fas fa-print"></i> Imprimir
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        function printSchedule() {
            window.print();
        }
    </script>
</body>
</html>